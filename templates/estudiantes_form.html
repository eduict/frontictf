{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
    <h2>
        {% if estudiante %}
            Editar Estudiante (ID: {{ estudiante.id_estudiantes }})
        {% else %}
            Crear Nuevo Estudiante
        {% endif %}
    </h2>
    <hr>
    <form action="{{ url_for('gestionar_estudiante', id_estudiantes=estudiante.id_estudiantes if estudiante else None) }}" method="post" class="p-4 rounded custom-jumbotron">
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="rut" class="form-label">RUT</label>
                <input type="text" class="form-control" id="rut" name="rut" value="{{ estudiante.rut if estudiante else '' }}" required>
            </div>
            <div class="col-md-6 mb-3">
                <label for="dverificador" class="form-label">DÃ­gito Verificador</label>
                <input type="text" class="form-control" id="dverificador" name="dverificador" maxlength="1" value="{{ estudiante.dverificador if estudiante else '' }}" required>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4 mb-3">
                <label for="nombres" class="form-label">Nombres</label>
                <input type="text" class="form-control" id="nombres" name="nombres" value="{{ estudiante.nombres if estudiante else '' }}" required>
            </div>
            <div class="col-md-4 mb-3">
                <label for="apellido_paterno" class="form-label">Apellido Paterno</label>
                <input type="text" class="form-control" id="apellido_paterno" name="apellido_paterno" value="{{ estudiante.apellido_paterno if estudiante else '' }}" required>
            </div>
            <div class="col-md-4 mb-3">
                <label for="apellido_materno" class="form-label">Apellido Materno</label>
                <input type="text" class="form-control" id="apellido_materno" name="apellido_materno" value="{{ estudiante.apellido_materno if estudiante else '' }}" required>
            </div>
        </div>
        <div class="mb-3">
            <label for="curso" class="form-label">Curso</label>
            <input type="text" class="form-control" id="curso" name="curso" value="{{ estudiante.curso if estudiante else '' }}" required>
        </div>
        
        <div class="d-flex justify-content-between">
            <button type="submit" class="btn btn-purple">
                {% if estudiante %}
                    Guardar Cambios
                {% else %}
                    Crear Estudiante
                {% endif %}
            </button>
            <a href="{{ url_for('listar_estudiantes') }}" class="btn btn-secondary">Cancelar</a>
        </div>
    </form>
</div>
{% endblock %}